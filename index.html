<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†Ø¸Ù… Ø¯Ø±Ø§Ø³Ø© Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ø±Ø©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1976d2; /* Ø£Ø²Ø±Ù‚ Ø³Ù…Ø§Ø¦ÙŠ ØºØ§Ù…Ù‚ Ù„Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† */
            --accent: #2196f3;
            --bg: #e3f2fd;    /* Ø³Ù…Ø§Ø¦ÙŠ Ø®ÙÙŠÙ Ø¬Ø¯Ø§Ù‹ Ù„Ù„Ø®Ù„ÙÙŠØ© */
            --card-bg: #ffffff;
            --text: #2c3e50;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            margin: 0;
            padding: 0;
        }

        header {
            background: var(--primary);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .container { max-width: 900px; margin: -20px auto 50px; padding: 0 20px; }

        .subject-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
            border-top: 5px solid var(--accent);
            transition: 0.3s;
        }

        .card:hover { transform: translateY(-5px); }

        .btn-group { display: flex; gap: 10px; margin-top: 15px; }
        
        button {
            cursor: pointer; border: none; border-radius: 12px;
            font-family: 'Cairo'; font-weight: bold; transition: 0.3s;
        }

        .btn-opt { background: #bbdefb; color: #0d47a1; padding: 10px; flex: 1; }
        .btn-opt:hover { background: var(--accent); color: white; }

        /* ØµÙØ­Ø© Ø§Ù„Ù…Ø­Ø±Ø± */
        #editor { display: none; padding-top: 40px; }

        .section-box {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
        }

        h3 { color: var(--primary); margin-bottom: 10px; font-size: 1.1rem; }

        textarea, input[type="text"] {
            width: 100%; border: 1px solid #d1d9e6; border-radius: 10px;
            padding: 12px; font-family: 'Cairo'; box-sizing: border-box;
        }

        .file-upload {
            border: 2px dashed var(--accent);
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            background: #f0f7ff;
        }

        .save-bar {
            position: sticky; bottom: 20px; display: flex; gap: 10px;
        }

        .btn-save { background: #2ecc71; color: white; padding: 15px; flex: 2; font-size: 1.1rem; }
        .btn-back { background: #95a5a6; color: white; flex: 1; }
    </style>
</head>
<body>

<div id="home-page">
    <header>
        <h1>Ø¯ÙØªØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„Ø°ÙƒÙŠ ğŸ§ª</h1>
        <p>Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù„Ø«Ø© | Ø¥Ø¯Ø§Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ù…Ù„ÙØ§Øª</p>
    </header>
    <div class="container">
        <div class="subject-grid" id="grid"></div>
    </div>
</div>

<div id="editor" class="container">
    <div id="editor-content">
        <h2 id="edit-title" style="text-align: center; color: var(--primary);"></h2>

        <div class="section-box">
            <h3>ğŸ“ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø­Ø§Ø¶Ø±Ø©</h3>
            <textarea id="in-summary" rows="4" placeholder="Ù…Ø§Ø°Ø§ Ø´Ø±Ø­ Ø§Ù„Ø¯ÙƒØªÙˆØ± Ø§Ù„ÙŠÙˆÙ…ØŸ"></textarea>
        </div>

        <div class="section-box">
            <h3>âœ… Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª</h3>
            <textarea id="in-tasks" rows="3" placeholder="Ù‡Ù„ ÙŠÙˆØ¬Ø¯ Ø§Ù…ØªØ­Ø§Ù† Ø£Ùˆ ÙˆØ§Ø¬Ø¨ØŸ"></textarea>
        </div>

        <div class="section-box">
            <h3>ğŸ’¡ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
            <textarea id="in-alerts" rows="2" placeholder="Ø£Ø´ÙŠØ§Ø¡ Ù…Ù‡Ù…Ø© Ø±ÙƒØ² Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ù„Ø¯ÙƒØªÙˆØ±..."></textarea>
        </div>

        <div class="section-box">
            <h3>ğŸ”— Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø´Ø±Ø­ (ÙŠÙˆØªÙŠÙˆØ¨/Ù…ÙˆØ§Ù‚Ø¹)</h3>
            <textarea id="in-links" rows="2" placeholder="Ø¶Ø¹ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ù‡Ù†Ø§..."></textarea>
        </div>

        <div class="section-box">
            <h3>ğŸ“ Ù…Ù„Ù Ø§Ù„Ù€ PDF (Ù…Ù† Ø¬Ù‡Ø§Ø²Ùƒ)</h3>
            <div class="file-upload">
                <input type="file" id="pdf-file" accept="application/pdf" onchange="processPDF(this)">
                <p id="pdf-status" style="margin-top:10px; font-weight:bold; color:var(--primary);">Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ Ù…Ù„Ù Ø¨Ø¹Ø¯</p>
            </div>
        </div>

        <div class="save-bar">
            <button class="btn-back" onclick="goHome()">ğŸ  Ø¹ÙˆØ¯Ø©</button>
            <button class="btn-save" onclick="save()">Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª âœ…</button>
        </div>
    </div>
</div>

<script>
    const subjects = [
        { name: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„Ø¹Ø¶ÙˆÙŠØ©", types: ["Ù†Ø¸Ø±ÙŠ", "Ø¹Ù…Ù„ÙŠ"] },
        { name: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©", types: ["Ù†Ø¸Ø±ÙŠ", "Ø¹Ù…Ù„ÙŠ"] },
        { name: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„Ø­ÙŠØ§ØªÙŠØ©", types: ["Ù†Ø¸Ø±ÙŠ", "Ø¹Ù…Ù„ÙŠ"] },
        { name: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ØªÙ†Ø§Ø³Ù‚ÙŠØ©", types: ["Ù†Ø¸Ø±ÙŠ", "Ø¹Ù…Ù„ÙŠ"] },
        { name: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©", types: ["Ù†Ø¸Ø±ÙŠ"] },
        { name: "Ù…Ù†Ù‡Ø¬ÙŠØ© Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ù„Ù…ÙŠ", types: ["Ù†Ø¸Ø±ÙŠ"] },
        { name: "ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù†Ø§Ù†Ùˆ", types: ["Ù†Ø¸Ø±ÙŠ"] }
    ];

    let activeID = "";
    let base64PDF = "";

    function render() {
        const grid = document.getElementById('grid');
        grid.innerHTML = subjects.map(s => `
            <div class="card">
                <h3>${s.name}</h3>
                <div class="btn-group">
                    ${s.types.map(t => `<button class="btn-opt" onclick="openEditor('${s.name}','${t}')">${t}</button>`).join('')}
                </div>
            </div>
        `).join('');
    }

    function openEditor(sub, type) {
        activeID = `${sub}-${type}`;
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('editor').style.display = 'block';
        document.getElementById('edit-title').innerText = `${sub} (${type})`;
        
        const data = JSON.parse(localStorage.getItem(activeID)) || {};
        document.getElementById('in-summary').value = data.summary || "";
        document.getElementById('in-tasks').value = data.tasks || "";
        document.getElementById('in-alerts').value = data.alerts || "";
        document.getElementById('in-links').value = data.links || "";
        base64PDF = data.pdf || "";
        document.getElementById('pdf-status').innerText = base64PDF ? "âœ… Ø§Ù„Ù…Ù„Ù Ù…ÙˆØ¬ÙˆØ¯ ÙˆÙ…Ø­ÙÙˆØ¸" : "Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ Ù…Ù„Ù Ø¨Ø¹Ø¯";
        window.scrollTo(0,0);
    }

    function processPDF(input) {
        const file = input.files[0];
        if (file.size > 2000000) { // ØªÙ†Ø¨ÙŠÙ‡ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ù„Ù Ø£ÙƒØ¨Ø± Ù…Ù† 2MB Ù„Ø¶Ù…Ø§Ù† Ø³Ø±Ø¹Ø© Ø§Ù„Ù…ØªØµÙØ­
            alert("Ø§Ù„Ù…Ù„Ù ÙƒØ¨ÙŠØ± Ø¬Ø¯Ø§Ù‹ØŒ ÙŠÙØ¶Ù„ Ø§Ø®ØªÙŠØ§Ø± Ù…Ù„ÙØ§Øª Ø£ØµØºØ± Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙƒØ±ÙˆØ§Ø¨Ø· Ø¯Ø±Ø§ÙŠÙ.");
        }
        const reader = new FileReader();
        reader.onload = function(e) {
            base64PDF = e.target.result;
            document.getElementById('pdf-status').innerText = "âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­";
        };
        reader.readAsDataURL(file);
    }

    function save() {
        const data = {
            summary: document.getElementById('in-summary').value,
            tasks: document.getElementById('in-tasks').value,
            alerts: document.getElementById('in-alerts').value,
            links: document.getElementById('in-links').value,
            pdf: base64PDF
        };
        localStorage.setItem(activeID, JSON.stringify(data));
        alert("ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­ ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ù…ØªØµÙØ­!");
    }

    function goHome() {
        document.getElementById('home-page').style.display = 'block';
        document.getElementById('editor').style.display = 'none';
    }

    render();
</script>
</body>
</html>
